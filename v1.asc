Version 4
SHEET 1 148176 120332
WIRE 146320 115584 146320 115504
WIRE 146240 115600 146240 115504
WIRE 145088 115648 145088 115568
WIRE 145328 115664 145328 115568
WIRE 146240 115696 146240 115664
WIRE 146320 115696 146320 115664
WIRE 146320 115696 146240 115696
WIRE 146320 115728 146320 115696
WIRE 145440 115792 145440 115712
WIRE 144864 115808 144784 115808
WIRE 144944 115808 144864 115808
WIRE 145088 115808 145088 115728
WIRE 145088 115808 145008 115808
WIRE 145168 115808 145088 115808
WIRE 145328 115808 145328 115728
WIRE 145328 115808 145248 115808
WIRE 145408 115808 145328 115808
WIRE 145552 115824 145472 115824
WIRE 145632 115824 145552 115824
WIRE 145776 115824 145696 115824
WIRE 145408 115840 145328 115840
WIRE 146320 115856 146320 115808
WIRE 146432 115856 146320 115856
WIRE 144864 115888 144864 115808
WIRE 145440 115888 145440 115856
WIRE 146320 115888 146320 115856
WIRE 146432 115888 146432 115856
WIRE 145776 115904 145776 115824
WIRE 145328 116000 145328 115840
WIRE 145408 116000 145328 116000
WIRE 145552 116000 145552 115824
WIRE 145552 116000 145472 116000
WIRE 145968 116000 145968 115920
WIRE 145776 116016 145776 115984
WIRE 145936 116016 145776 116016
WIRE 144864 116032 144864 115968
WIRE 146080 116032 146000 116032
WIRE 146160 116032 146080 116032
WIRE 146320 116032 146320 115952
WIRE 146320 116032 146240 116032
WIRE 146384 116032 146320 116032
WIRE 146432 116032 146432 115952
WIRE 146560 116032 146432 116032
WIRE 146720 116032 146640 116032
WIRE 146800 116032 146720 116032
WIRE 146944 116032 146864 116032
WIRE 145936 116048 145856 116048
WIRE 145776 116064 145776 116016
WIRE 145328 116096 145328 116000
WIRE 145408 116096 145328 116096
WIRE 145552 116096 145552 116000
WIRE 145552 116096 145488 116096
WIRE 145968 116096 145968 116064
WIRE 146320 116112 146320 116032
WIRE 146432 116112 146432 116032
WIRE 146720 116112 146720 116032
WIRE 146944 116128 146944 116112
WIRE 147040 116128 146944 116128
WIRE 146944 116160 146944 116128
WIRE 145328 116176 145328 116096
WIRE 145856 116208 145856 116048
WIRE 145872 116208 145856 116208
WIRE 145968 116208 145936 116208
WIRE 146320 116208 146320 116176
WIRE 146432 116208 146432 116176
WIRE 146432 116208 146320 116208
WIRE 145776 116224 145776 116144
WIRE 146320 116256 146320 116208
WIRE 146720 116256 146720 116176
WIRE 146944 116256 146944 116240
WIRE 145328 116272 145328 116256
WIRE 146432 116272 146384 116160
WIRE 145856 116320 145856 116208
WIRE 145872 116320 145856 116320
WIRE 145968 116320 145968 116208
WIRE 145968 116320 145952 116320
WIRE 145984 116320 145968 116320
WIRE 146080 116320 146080 116032
WIRE 146080 116320 146064 116320
WIRE 146320 116368 146320 116336
WIRE 146320 116368 146240 116368
WIRE 145856 116400 145856 116320
WIRE 146240 116400 146240 116368
WIRE 146320 116400 146320 116368
WIRE 145856 116528 145856 116480
WIRE 145968 116528 145856 116528
WIRE 146240 116528 146240 116464
WIRE 146320 116528 146320 116480
WIRE 145856 116560 145856 116528
WIRE 145968 116576 145968 116528
WIRE 145856 116688 145856 116640
WIRE 145968 116688 145968 116640
WIRE 145968 116688 145856 116688
WIRE 145856 116736 145856 116688
FLAG 144768 116576 0
FLAG 144880 116576 0
FLAG 144880 116496 vref
IOPIN 144880 116496 Out
FLAG 144768 116496 vcc
IOPIN 144768 116496 Out
FLAG 145008 116496 in
IOPIN 145008 116496 Out
FLAG 145008 116576 0
FLAG 145088 115568 vref
IOPIN 145088 115568 In
FLAG 144784 115808 in
IOPIN 144784 115808 In
FLAG 145328 115568 vref
IOPIN 145328 115568 In
FLAG 145328 116336 0
FLAG 145968 115920 0
FLAG 145968 116096 vcc
IOPIN 145968 116096 In
FLAG 145440 115712 0
FLAG 145440 115888 vcc
IOPIN 145440 115888 In
FLAG 145856 116736 vref
IOPIN 145856 116736 In
FLAG 146320 116528 0
FLAG 146240 116528 vref
IOPIN 146240 116528 In
FLAG 146240 115504 vref
IOPIN 146240 115504 In
FLAG 146320 115504 vcc
IOPIN 146320 115504 In
FLAG 146720 116256 vref
IOPIN 146720 116256 In
FLAG 144864 116032 0
FLAG 146944 116256 0
FLAG 147040 116128 out
IOPIN 147040 116128 Out
FLAG 145776 116224 vref
IOPIN 145776 116224 In
FLAG 146432 116272 vref
IOPIN 146432 116272 In
SYMBOL voltage 144768 116480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VCC
SYMATTR Value 9
SYMBOL voltage 144880 116480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VREF
SYMATTR Value 4.5
SYMBOL voltage 145008 116480 R0
WINDOW 3 24 44 Left 2
WINDOW 123 24 72 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 0.150 1k)
SYMATTR InstName IN
SYMBOL res 144848 115872 R0
SYMATTR InstName R1
SYMATTR Value 10Meg
SYMBOL cap 145008 115792 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 22n
SYMBOL res 145072 115632 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 145264 115792 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL cap 145312 115664 R0
SYMATTR InstName C2
SYMATTR Value 220p
SYMBOL cap 145472 115984 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 220p
SYMBOL res 145504 116080 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 145312 116160 R0
SYMATTR InstName R5
SYMATTR Value 4k7
SYMBOL cap 145696 115808 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 2.86956521739n
SYMBOL res 145760 115888 R0
WINDOW 3 -104 69 Left 2
SYMATTR Value {10k-10k*(gain/100)}
SYMATTR InstName R6
SYMBOL res 145760 116048 R0
WINDOW 3 -94 72 Left 2
SYMATTR Value {10k*gain/100}
SYMATTR InstName R7
SYMBOL cap 145936 116192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 220p
SYMBOL res 146080 116304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL res 145968 116304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1Meg
SYMBOL res 145840 116384 R0
SYMATTR InstName R10
SYMATTR Value 3k3
SYMBOL res 145840 116544 R0
SYMATTR InstName R11
SYMATTR Value 100k
SYMBOL cap 145952 116576 R0
SYMATTR InstName C6
SYMATTR Value 2µ2
SYMBOL res 146256 116016 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 220
SYMBOL diode 146304 116112 R0
WINDOW 3 -89 20 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 146304 115888 R0
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 146304 116240 R0
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res 146304 116384 R0
SYMATTR InstName R14
SYMATTR Value 13k
SYMBOL res 146304 115712 R0
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL res 146304 115568 R0
SYMATTR InstName R16
SYMATTR Value 13k
SYMBOL cap 146224 116400 R0
SYMATTR InstName C7
SYMATTR Value 2µ2
SYMBOL cap 146224 115600 R0
SYMATTR InstName C8
SYMATTR Value 2µ2
SYMBOL diode 146416 115888 R0
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode 146416 116112 R0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL res 146656 116016 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value {50k*(hicut/100)}
SYMBOL cap 146704 116112 R0
SYMATTR InstName C11
SYMATTR Value 12n
SYMBOL polcap 146800 116048 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C9
SYMATTR Value 22µ
SYMBOL res 146928 116016 R0
WINDOW 3 -64 71 Left 2
SYMATTR Value {10k-10k*(vol/100)}
SYMATTR InstName R19
SYMBOL res 146928 116144 R0
WINDOW 3 -50 74 Left 2
SYMATTR Value {10k*vol/100}
SYMATTR InstName R20
SYMBOL polcap 145312 116272 R0
SYMATTR InstName C12
SYMATTR Value 22µ
SYMBOL Opamps\\UniversalOpamp2 145440 115824 M180
SYMATTR InstName U1
SYMBOL Opamps\\UniversalOpamp2 145968 116032 M180
SYMATTR InstName U2
SYMBOL zener 146368 116032 R0
SYMATTR InstName D5
SYMATTR Value BZX84C6V8L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener 146400 116160 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMATTR Value BZX84C6V8L
SYMATTR Description Diode
SYMATTR Type diode
TEXT 144736 116192 Left 2 !.param gain 99
TEXT 144736 116232 Left 2 !.param hicut 10
TEXT 144736 116272 Left 2 !.param vol 99
TEXT 144744 116152 Left 2 ;knobs
TEXT 144736 116408 Left 2 ;input
TEXT 144728 116696 Left 2 ;Zhe Deng 2020
TEXT 145528 115336 Left 7 ;Ultimate Overdive
TEXT 144952 116704 Left 2 !.tran 0 2 0 1u
TEXT 144952 116736 Left 2 !.opt plotwinsize=0\n.opt numdgt=15
TEXT 144952 116800 Left 2 ;Double Precision, No Compression
TEXT 144960 116672 Left 2 !*.ac oct 10 10 20k
TEXT 144952 116872 Left 2 ;NOTE: use OPA2134 for opamps
TEXT 144952 116960 Left 2 ;TODO: D4 and D5 add even harmonics if connected to ground, not vref
TEXT 144960 116920 Left 2 ;TODO: Thunderbird dynamic bias, use germanium diode in clipping stage (D1-D4)
TEXT 147144 116152 Left 2 !.wave C:\\Users\\tigr2\\Documents\\Ultimate-Overdive\\Samples\\test.wav 16 44.1k V(out)
RECTANGLE Normal 144928 116304 144720 116128
RECTANGLE Normal 145168 116624 144720 116384
