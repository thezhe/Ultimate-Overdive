Version 4
SHEET 1 148268 120332
WIRE 146384 115584 146384 115504
WIRE 146304 115600 146304 115504
WIRE 146304 115696 146304 115664
WIRE 146384 115696 146384 115664
WIRE 146384 115696 146304 115696
WIRE 146384 115728 146384 115696
WIRE 146384 115856 146384 115808
WIRE 146496 115856 146384 115856
WIRE 145632 115872 145632 115776
WIRE 146384 115888 146384 115856
WIRE 146496 115888 146496 115856
WIRE 145968 116000 145968 115920
WIRE 145168 116016 145088 116016
WIRE 145248 116016 145168 116016
WIRE 145360 116016 145312 116016
WIRE 145472 116016 145360 116016
WIRE 145632 116016 145632 115936
WIRE 145632 116016 145552 116016
WIRE 145936 116016 145632 116016
WIRE 146016 116032 146000 116032
WIRE 146080 116032 146016 116032
WIRE 146208 116032 146144 116032
WIRE 146384 116032 146384 115952
WIRE 146384 116032 146208 116032
WIRE 146496 116032 146496 115952
WIRE 146512 116032 146496 116032
WIRE 146656 116032 146576 116032
WIRE 147216 116032 146656 116032
WIRE 145360 116048 145360 116016
WIRE 145936 116048 145856 116048
WIRE 145168 116096 145168 116016
WIRE 145968 116096 145968 116064
WIRE 146384 116112 146384 116032
WIRE 146496 116112 146496 116032
WIRE 147216 116128 147216 116112
WIRE 147312 116128 147216 116128
WIRE 147216 116160 147216 116128
WIRE 145856 116208 145856 116048
WIRE 145872 116208 145856 116208
WIRE 146016 116208 146016 116032
WIRE 146016 116208 145936 116208
WIRE 146384 116208 146384 116176
WIRE 146496 116208 146496 116176
WIRE 146496 116208 146384 116208
WIRE 145168 116240 145168 116176
WIRE 146384 116256 146384 116208
WIRE 147216 116256 147216 116240
WIRE 145856 116320 145856 116208
WIRE 145872 116320 145856 116320
WIRE 146016 116320 146016 116208
WIRE 146016 116320 145952 116320
WIRE 146384 116368 146384 116336
WIRE 146384 116368 146304 116368
WIRE 145856 116400 145856 116320
WIRE 146304 116400 146304 116368
WIRE 146384 116400 146384 116368
WIRE 146304 116528 146304 116464
WIRE 146384 116528 146384 116480
WIRE 145856 116736 145856 116480
FLAG 144768 116576 0
FLAG 144880 116576 0
FLAG 144880 116496 vref
IOPIN 144880 116496 Out
FLAG 144768 116496 vcc
IOPIN 144768 116496 Out
FLAG 145008 116496 in
IOPIN 145008 116496 Out
FLAG 145008 116576 0
FLAG 145088 116016 in
IOPIN 145088 116016 In
FLAG 145632 115776 vref
IOPIN 145632 115776 In
FLAG 145968 115920 0
FLAG 145968 116096 vcc
IOPIN 145968 116096 In
FLAG 145856 116736 vref
IOPIN 145856 116736 In
FLAG 146384 116528 0
FLAG 146304 116528 vref
IOPIN 146304 116528 In
FLAG 146304 115504 vref
IOPIN 146304 115504 In
FLAG 146384 115504 vcc
IOPIN 146384 115504 In
FLAG 147216 116256 0
FLAG 147312 116128 out
IOPIN 147312 116128 Out
FLAG 146208 116112 0
FLAG 145360 116128 vref
IOPIN 145360 116128 In
FLAG 146656 116112 0
FLAG 145168 116240 vref
IOPIN 145168 116240 In
SYMBOL voltage 144768 116480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VCC
SYMATTR Value 9
SYMBOL voltage 144880 116480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VREF
SYMATTR Value 4.5
SYMBOL res 145152 116080 R0
SYMATTR InstName R1
SYMATTR Value 10Meg
SYMBOL res 145568 116000 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL cap 145616 115872 R0
SYMATTR InstName C2
SYMATTR Value 47n
SYMBOL cap 145936 116192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 220p
SYMBOL res 145968 116304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1Meg
SYMBOL res 145840 116384 R0
SYMATTR InstName R10
SYMATTR Value 100
SYMBOL diode 146368 116112 R0
WINDOW 3 -89 20 Left 2
SYMATTR Value 1N4148
SYMATTR InstName D1
SYMBOL diode 146368 115888 R0
SYMATTR InstName D2
SYMATTR Value 1N34A
SYMBOL res 146368 116240 R0
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res 146368 116384 R0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res 146368 115712 R0
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL res 146368 115568 R0
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL cap 146288 116400 R0
SYMATTR InstName C7
SYMATTR Value 10µ
SYMBOL cap 146288 115600 R0
SYMATTR InstName C8
SYMATTR Value 10µ
SYMBOL res 147200 116016 R0
WINDOW 3 -64 71 Left 2
SYMATTR Value {10k-10k*(vol/100)}
SYMATTR InstName R19
SYMBOL res 147200 116144 R0
WINDOW 3 -50 74 Left 2
SYMATTR Value {10k*vol/100}
SYMATTR InstName R20
SYMBOL Opamps\\UniversalOpamp2 145968 116032 M180
SYMATTR InstName U2
SYMBOL voltage 145008 116480 R0
SYMATTR InstName V1
SYMATTR Value wavefile="Vin.wav"
SYMBOL polcap 146080 116048 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C10
SYMATTR Value 10µ
SYMBOL polcap 146576 116016 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C13
SYMATTR Value 10µ
SYMBOL diode 146480 115888 R0
WINDOW 3 -89 20 Left 2
SYMATTR Value 1N4148
SYMATTR InstName D3
SYMBOL diode 146480 116112 R0
WINDOW 3 -89 20 Left 2
SYMATTR Value 1N4148
SYMATTR InstName D4
SYMBOL res 145344 116032 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL cap 145312 116000 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 0.1µ
SYMBOL res 146192 116016 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 146640 116016 R0
SYMATTR InstName R5
SYMATTR Value 10k
TEXT 144736 116192 Left 2 !.param gain 99
TEXT 144736 116272 Left 2 !.param vol 50
TEXT 144744 116152 Left 2 ;knobs
TEXT 144736 116408 Left 2 ;input
TEXT 144728 116696 Left 2 ;Zhe Deng 2020
TEXT 145528 115336 Left 7 ;Ultimate Overdive
TEXT 144952 116704 Left 2 !.tran 0 14 0 1u
TEXT 144952 116736 Left 2 !.opt plotwinsize=0\n.opt numdgt=15
TEXT 144952 116800 Left 2 ;Double Precision, No Compression
TEXT 144960 116672 Left 2 !*.ac oct 10 10 20k
TEXT 144952 116872 Left 2 ;NOTE: use OPA2134 for opamps
TEXT 147352 116152 Left 2 !.wave Vout.wav 24 96k V(out)
TEXT 144592 117080 Left 2 !.MODEL 1N34A D(bv=75 cjo=0.5e-12 eg=0.67 ibv=18e-3 is=2e-7 rs=7 n=1.3 vj=0.1 m=0.27 type=germanium)
TEXT 144600 117144 Left 2 !.MODEL 1N4678 D(bv=1.8 type=zener)
TEXT 144928 116960 Left 2 ;TODO: lower R4 to more appropriate gain for lowered high pass fc (c4, r6/7)
RECTANGLE Normal 144928 116304 144720 116128
RECTANGLE Normal 145168 116624 144720 116384
